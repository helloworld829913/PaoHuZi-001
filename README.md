# PaoHuZi-001
一个小游戏

### 游戏规则

#### 牌介绍
这是一个棋牌类游戏。
一共有80张牌，每个牌值有1-10，每个值的数量是4张。
但是有小写的数字一二三四五六七八九十，还有大写的数字壹、贰、叁、肆、伍、陆、柒、捌、玖、拾，大写的数量也是4张。
所以一共是80张牌。
其中，数是2、7、10的牌（包括大写和小写）是红色的花色。而其他数是黑色的花色。

#### 胡牌条件
##### 牌局开始
每个人会被分配到20张牌，然后庄家，也就是最开始摸牌的人，会先摸一张牌，数量达到21张。
如果没有胡牌则需要将牌打出。所以当牌局开始后，会剩下19张牌等待摸取。

##### 摸牌规则
这是一个重要的规则限制：
1. 从牌堆摸上来的牌**不能直接插入手牌**，必须单独存放。
2. 摸到牌后，玩家需要判断：
    - 能否**委**：手里有该牌的对子（2张相同），摸到第3张，可以委（暗牌，其他人看不到），而且**必须得委**
    - 能否**提**：手里有该牌的三张，摸到第4张，可以提（明牌），，而且**必须得提**
    - 能否**胡牌**：摸到这张牌后能否满足胡牌条件
3. 如果不进行吃、委、提、胡牌，则必须**打出摸到的那张牌**：
    如果不委、提、胡牌的话，那么就需要把牌亮出来，让知道你摸到了什么牌。
    因为别人可能会碰、跑、胡牌。
4. 打出牌后，这张牌给其他玩家机会进行吃、碰、跑操作。

##### 吃碰跑规则
1. **碰和跑**：可以碰/跑任何玩家打出的牌
    - 碰：手里有2张相同的牌，可以碰任何人打出的第3张
    - 跑：手里有3张相同的牌，可以跑任何人打出的第4张
2. **吃**：只能吃上家打出的牌
    - 吃：用手里的2张牌和上家打出的牌组成顺子
    - 不能吃下家或其他玩家的牌

##### 胡牌限制条件
对于每个玩家中的手牌,可以形成的顺子,三连牌的数量,计算胡希数.
胡希计算规则如下:
1. 三连牌:
    1.1 在手里:
    如果在手里的三连牌是小写的三连牌,则是3胡希.
    如果在手里的三连牌是大写的三连牌,则是6胡希.
    1.2 不在手里:
    如果不在手里的三连牌是小写的三连牌,则是1胡希.
    如果不在手里的三连牌是大写的三连牌,则是3胡希.
    1.3 为什么会不在手里
    每个人可以对其他家打出的牌,进行吃,碰,跑操作.
    所以对于别人打出的牌,就不会在手里,而是放在牌桌上.(虽然命令行中没有真实的牌桌)
    1.4 其他的操作
    每个玩家,还可以根据自己摸到的牌进行:委,提操作.
    委就是自己有一个对子的时候,有摸到了一张一模一样的,形成了三连牌.所以要放下牌桌叫做委.
    但是委住的牌,不能给别人看到,具体委的是什么.相当于,其他家只知道你有三连牌了,但是不知道具体数字是多少.
2. 顺子:
    2.1: 一二三和壹贰叁顺子
    小写是3胡希,大写是6胡希.
    2.2: 二七十和贰柒拾
    虽然在数学上不是连续的,但是在这个游戏中可以看作是连续的.
    小写的是3胡希,大写的是6胡希.
    2.3: 其他顺子
    其他普通顺子,不计算胡希数
3. 四连牌:
    3.1 在手里的四连
    小写9胡希,大写12胡希
    3.2 不在手里的四连
    小写6胡希,大写9胡希
4. 伪三连牌：
    这是一种对子+单张的牌型。但是是不同大小的。
    例如：一一壹、叁叁三，数字都是相同，但是是不同大小的。
    这种没有胡希，但是可以形成伪三连。
    伪三连可以拆散、打出。
    加入这个牌型的原因是，加速胡牌牌型的形成。
    而且胡牌的时候，胡牌范围更广。
    比如：二二、陆陆，就可以胡，二二贰贰，和陆陆六六，一共8枚。因为不同的大小写同样写成了伪三连。
##### 三连、四连牌限制
    1. 不能拆散、打出已经形成三连的三连牌
    2. 不能拆散、打出已经形成四连的四连牌

##### 胡牌
如何才能胡牌呢？
假设手上有顺子（1·3、2·4 等等）n个，有3个同样的牌m张，有对子l，1个
形成 n+m+l=21，就可以胡牌了
即手里的牌要形成，3x+3y+2z=21.

##### 胡牌门槛和得分计算
1. 胡牌最低门槛：玩家必须达到15胡希才能胡牌
2. 得分计算规则：
    - 基础分：1分
    - 额外分：(总胡希 - 15) ÷ 3 的整数部分
    - 计算公式：得分 = 1 + (总胡希 - 15) // 3
    - 示例：
        - 15胡希 → 1 + (15-15)÷3 = 1 + 0 = 1分
        - 18胡希 → 1 + (18-15)÷3 = 1 + 1 = 2分
        - 22胡希 → 1 + (22-15)÷3 = 1 + 2 = 3分
        - 27胡希 → 1 + (27-15)÷3 = 1 + 4 = 5分

##### 上庄和下庄
庄家是按照顺序进行的. 比如玩家1现在是庄家,假设他没有胡牌,也就是没有连庄,那么就会轮到玩家2,接着是玩家3,之后又轮到玩家1.
但是如果玩家在自己是庄家的情况下,胡牌了,那么就是连庄了,需要继续当庄家.

### 游戏系统要求

1. 确保牌的分布要求尽可能的接近真随机. 但是这个这是一个demo,不需要做的太复杂,简单实现就可以.
2. demo一开始,先采用命令行的形式进行输入输出.
3. 游戏支持3个玩家，其中1个真人玩家，2个AI玩家.
4. AI玩家采用简单策略，能够进行基本的吃、碰、跑操作，并能识别胡牌机会.
